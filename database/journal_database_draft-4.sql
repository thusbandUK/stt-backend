--This part creates a table for login detals

-- SUPERCEDED AS NEEDED ACTIVE COLUMN
-- CREATE TABLE users (id SERIAL,username varchar(40),email varchar(50) UNIQUE,hashed_password bytea,salt bytea,PRIMARY KEY (id));

--THIS IS THE NEW VERSION, CODE NOT TESTED
CREATE TABLE users (id SERIAL,username varchar(40),email varchar(50) UNIQUE,hashed_password bytea,salt bytea, active boolean DEFAULT false, PRIMARY KEY (id));


--This part creates a session table

CREATE TABLE "session" ("sid" varchar NOT NULL COLLATE "default","sess" json NOT NULL,"expire" timestamp(6) NOT NULL)WITH (OIDS=FALSE);
ALTER TABLE "session" ADD CONSTRAINT "session_pkey" PRIMARY KEY ("sid") NOT DEFERRABLE INITIALLY IMMEDIATE;
CREATE INDEX "IDX_session_expire" ON "session" ("expire");

--this grants necessary privileges

GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO thoughtflowadmin;


--SUPERCEDED

CREATE TABLE journal_references (id SERIAL,user_id int REFERENCES users(id),journal_title varchar(50),cover_image varchar(60),UNIQUE (user_id, journal_title),PRIMARY KEY (id));
CREATE TABLE journal_sections (id SERIAL,journal_reference_id int REFERENCES journal_references(id),section_number int,UNIQUE (journal_reference_id, section_number),PRIMARY KEY (id));
CREATE TABLE journal_content (id SERIAL,journal_section_id int REFERENCES journal_sections(id) UNIQUE,content varchar(1000),PRIMARY KEY (id));





INSERT INTO users (username, email, password)VALUES('Hambone-Fakenamington', 'hambone@fakenamington.com', 'password'),('Darnarius-McQuimberton', 'darnarius@gmail.com', 'ShockingPasswordHygiene'),('Real-NotMadeUpPerson', 'notmadeup@hotmail.com', 'IWantHacking');

INSERT INTO journal_references (user_id, journal_title, cover_image)VALUES(1, 'Heres what I think', './link-url-goes-here'),(2, 'Heres what I think', './link-url-goes-here'),(3, 'get some original names folx!', './link-url-goes-here');
INSERT INTO journal_sections (journal_reference_id, section_number)VALUES (1, 1), (1, 2), (1, 3), (1, 4), (2, 1), (2, 2), (2, 3), (2, 4), (2, 5), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5), (3, 6);
INSERT INTO journal_content (journal_section_id, content)VALUES(1, 'Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington '),(2, 'Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington '),(3, 'Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington '),(4, 'Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington Hambone Fakenamington '),(5, 'Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius'),(6, 'Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius'),(7, 'Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius'),(8, 'Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius'),(9, 'Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius McQuimberton Darnarius'),(10, 'Real NotMadeUpPerson,  Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson'),(11, 'Real NotMadeUpPerson,  Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson'),(12, 'Real NotMadeUpPerson,  Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson'),

(13, 'Real NotMadeUpPerson,  Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson'),
(14, 'Real NotMadeUpPerson,  Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson'),
(15, 'Real NotMadeUpPerson,  Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson, Real NotMadeUpPerson');

SELECT users.username, journal_sections.section_number, content
FROM users
JOIN journal_references
ON users.id = journal_references.user_id
JOIN journal_sections
ON journal_sections.journal_reference_id = journal_references.id
JOIN journal_content
ON journal_sections.id = journal_content.journal_section_id
WHERE users.id = 1;